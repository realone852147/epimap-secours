<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="Epita-Map: Trouvez facilement votre salle √† Epita et oubliez les 404 Room Not Found" />
<meta name="keywords" content="Epimap Epita Map Plan Campus Epitech KB Villejuif" />
<meta name="author" content="Nathan Chevalier & Mateo S." />
<meta name="theme-color" content="#0d1230" />

<!-- Open Graph / SEO -->
<meta property="og:title" content="Epita-Map - Plans des campus"/>
<meta property="og:description" content="Trouvez facilement votre salle √† Epita"/>
<meta property="og:image" content="img/og-image.png"/>
<meta property="og:type" content="website"/>

<title>Epita-Map</title>
<link rel="icon" type="image/png" href="img/favicon.png" />
<link rel="stylesheet" href="css/style.css" />
<link rel="stylesheet" href="css/onoffswitch.css" />
<link rel="stylesheet" href="css/settings.css" />
<link rel="stylesheet" href="css/darkmode.css" />

<style>
  /* Conteneur des cartes */
  #container {
    width: 100%;
    height: 80vh; /* hauteur ajustable */
    min-height: 600px;
    overflow: auto;
  }
  .darkmap {
    background: #0d1230;
  }

  /* Politique confidentialit√© */
  .privacy-page {
    background: #f9fafb !important;
    color: #111 !important;
    max-width: 800px;
    margin: 3rem auto;
    border-radius: 16px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    padding: 2rem;
    overflow-y: auto;
  }
  .privacy-page h1 { font-size: 1.8rem; margin-bottom: 1rem; }
  .privacy-page h2 { font-size: 1.3rem; margin-top: 1.5rem; }
  .privacy-page ul { margin-left: 1.2rem; }
  .privacy-page .btn-back {
    display: inline-block;
    margin-top: 2rem;
    padding: 0.75rem 1.5rem;
    background: #0066cc;
    color: #fff;
    border-radius: 8px;
    text-decoration: none;
    font-weight: 600;
    transition: background 0.2s ease;
  }
  .privacy-page .btn-back:hover { background: #004999; }
</style>
</head>

<body class="darkmode">

<header>
  <div id="btn-menu" aria-label="Menu principal" role="button" tabindex="0">
    <div></div><div></div><div></div>
  </div>
  <input type="text" name="search" placeholder="Search a room, a people..." aria-label="Recherche"/>
  <button aria-label="Lancer la recherche"></button>
</header>

<div id="btn-settings" aria-label="Param√®tres" role="button"></div>

<nav id="info-menu" aria-label="Informations salle">
  <div>
    <div></div>
    <div>
      <h4>Room Name</h4>
      <span>Room Description</span>
      <div>
        <div></div>
        <div>
          <h5>People Name</h5>
          <span>People Description</span>
        </div>
      </div>
    </div>
  </div>
  <div>
    <div id="search-result-template" class="search-result">
      <h4></h4>
      <span></span>
    </div>
  </div>
</nav>

<nav id="nav-menu" aria-label="Navigation campus">
  <a href="https://epita-map.fr/privacy" class="btn-back" id="privacy-btn">‚Üê Informations Vie Priv√©e</a>
  <ul>
    <li><a href="maps/kb.svg" class="menu-itm-campus">Kremlin-Bic√™tre</a></li>
    <li><a href="maps/vj.svg" class="menu-itm-campus">Villejuif</a></li>
    <li><a href="#" class="menu-itm-campus">Lyon</a></li>
    <li><a href="#" class="menu-itm-campus">Toulouse</a></li>
    <li><a href="#" class="menu-itm-campus">SP√âCIALES</a></li>
  </ul>
  <div id="infooter">
    <p>
      Epita-Map.fr est un projet √©tudiant ind√©pendant, non affili√© √† IONIS Education Group.<br/>
      Maintainers : Nathan Chevalier & Mateo S.<br/>
      H√©berg√© avec üíñ par Mateo S.<br/>
      <a href="https://github.com/realone852147/epimap-secours">Contribuer sur GitHub</a>
    </p>
  </div>
</nav>

<section id="settings" aria-label="Param√®tres">
  <h3>Param√®tres</h3>
  <div class="setting">
    <div class="onoffswitch">
      <input type="checkbox" name="darkmodeSwitch" class="onoffswitch-checkbox" id="darkmodeSwitch" tabindex="0">
      <label class="onoffswitch-label" for="darkmodeSwitch">
        <span class="onoffswitch-inner"></span>
        <span class="onoffswitch-switch"></span>
      </label>
    </div>
    <span>Mode Sombre</span>
  </div>
  <div class="setting">
    <div class="onoffswitch">
      <input type="checkbox" name="enrichedSwitch" class="onoffswitch-checkbox" id="enrichedSwitch" tabindex="0">
      <label class="onoffswitch-label" for="enrichedSwitch">
        <span class="onoffswitch-inner"></span>
        <span class="onoffswitch-switch"></span>
      </label>
    </div>
    <span>Enrichir l'affichage</span>
  </div>
  <div class="setting">
    <select aria-label="Langue">
      <option value="">FR</option>
    </select>
    <span>Langue</span>
  </div>
</section>

<section id="container" class="darkmap" contenturl="maps/kb.svg"></section>

<section id="map-label" aria-label="√âtiquette carte">
  <div class="map-icon"></div>
  <div><div>Information</div></div>
</section>

<footer>
  <p>
    Epita-Map.fr ‚Äî Projet √©tudiant ind√©pendant.<br/>
    Maintainers : Nathan Chevalier & Mateo S.<br/>
    H√©berg√© par Mateo S. üíñ<br/>
    <a href="https://github.com/realone852147/epimap-secours">Contribuer sur GitHub</a><br/>
    <a href="privacy.html">Politique de confidentialit√©</a> | 
    <a href="mentions.html">Mentions l√©gales</a>
  </p>
</footer>

<script src="js/request.js"></script>
<script src="js/script.js"></script>
<script src="js/maps.js"></script>
<script src="js/search.js"></script>
<script src="js/darkmode.js"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const container = document.getElementById("container");
  const privacyBtn = document.getElementById("privacy-btn");

  const privacyHTML = `
    <main class="privacy-page">
      <h1>Politique de confidentialit√© ‚Äî Epita-Map</h1>
      <p><strong>Epita-Map</strong> ne collecte, ne stocke et ne partage aucune donn√©e personnelle.</p>

      <h2>1. Donn√©es collect√©es</h2>
      <ul>
        <li>Aucune g√©olocalisation automatique.</li>
        <li>Aucun compte utilisateur, aucun cookie de suivi.</li>
        <li>Les adresses IP ne sont pas visibles par le serveur (tout le trafic passe via Cloudflare).</li>
      </ul>

      <h2>2. S√©curit√©</h2>
      <p>Le site est prot√©g√© par Cloudflare (HTTPS, anti-DDoS). Les logs sont purement techniques, anonymes et temporaires.</p>
      <p>Le trafic passe via Cloudflare pour des raisons de s√©curit√© : <a href="https://www.cloudflare.com/fr-fr/privacypolicy/">Politique Cloudflare</a>.</p>

      <h2>3. Conservation</h2>
      <p>Aucune donn√©e n‚Äôest conserv√©e de mani√®re persistante. Le serveur est r√©initialis√© automatiquement pour garantir qu‚Äôaucune trace n‚Äôest gard√©e.</p>

      <h2>4. Mentions l√©gales</h2>
      <p>Responsable du site : Nathan Chevalier & Mateo S.<br/>
      Email : <a href="mailto:nathan.chevalier@epita.fr">nathan.chevalier@epita.fr</a>, 
      <a href="mailto:mateo.schwab@epita.fr">mateo.schwab@epita.fr</a><br/>
      H√©bergeur : [Nom h√©bergeur], [Adresse], <a href="[site h√©bergeur]">Site</a><br/>
      Finalit√© : Mise √† disposition interactive des plans des campus Epita.</p>

      <h2>5. Contact</h2>
      <p>Pour toute question : <a href="mailto:contact@epita-map.fr">contact@epita-map.fr</a></p>

      <a href="#" id="btn-return" class="btn-back">‚Üê Retourner sur la carte</a>
    </main>
  `;

  privacyBtn.addEventListener("click", (e) => {
    e.preventDefault();
    document.body.querySelectorAll("header, #btn-settings, #info-menu, #nav-menu, #settings, #map-label, footer")
      .forEach(el => el.style.display = "none");
    container.innerHTML = privacyHTML;
  });

  document.body.addEventListener("click", (e) => {
    if (e.target && e.target.id === "btn-return") {
      e.preventDefault();
      container.innerHTML = "";
      document.body.querySelectorAll("header, #btn-settings, #info-menu, #nav-menu, #settings, #map-label, footer")
        .forEach(el => el.style.display = "");
    }
  });
});
</script>

</body>
</html>
